model:
  weights: yolov8n.pt
  device: cpu
  imgsz: 640
tracking:
  conf: 0.25
  iou: 0.45
  max_det: 1000
  tracker_config: configs/tracker/bytetrack.yaml
roi:
  path: data\rois\ec.json
  enable: true
  mode: manual
  auto_line:
    sample_frames: 15
    crop_right: 0.45
    crop_bottom: 0.7
    s_max: 60
    v_min: 200
    angle_min: 15
    angle_max: 75
    top_ratio: 0.35
    bottom_margin: 20
    buffer: 6
events:
  min_frames_in: 5
  min_frames_out: 5
render:
  show_tracks: true
  show_footpoints: true
output:
  dir: data/outputs
  video_filename: ec_vis.mp4
  csv_filename: ec.csv
plate:
  enable: true
  det_weights: weights/plate/yolov8n-plate.pt
  device: cpu
  imgsz: 320
  conf: 0.25
  iou: 0.45
  every_n_frames: 2
  crop_padding: 0.15
  min_rel_area: 0.01
  min_sharpness: 120.0
  save_debug: false
  classes_allow:
  - car
  - truck
  - bus
  bbox_aspect_min: 0.9
  min_box_h_px: 60
  only_with_plate: true
  allow_tail_fallback: false
  pick_mode: entry
  entry_window_frames: 15
  per_track: true
  preproc:
    enable: true
    upscale_min_side: 320
    deskew_max_deg: 12
    use_perspective: true
    clahe_clip: 2.0
    clahe_grid: 8
    denoise: bilateral
    unsharp_amount: 0.6
    unsharp_radius: 3
    binarize: false
    save_debug: false
